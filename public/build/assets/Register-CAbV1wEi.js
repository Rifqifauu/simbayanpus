import{r as a,j as y,c,b as r,d as v,k as P,l as f,v as k,t as p,g as x,y as M,a as _,F as S,p as A,o as g}from"./app-DBr-amPc.js";import{E as C}from"./ErrorModal-qL7AgLcL.js";import{S as E}from"./SuccessModal-4EUGx5_s.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B="/build/assets/undraw_post_eok2-Bcoasy7g.svg",R={components:{ErrorModal:C,SuccessModal:E},setup(){const u=a({name:"",email:"",password:"",password_confirmation:""}),e=a({}),b=a(!1),s=a(!1),t=a(!1),d=a(""),m=a(!1),w=a("Pendaftaran Akun Anda Berhasil");return{form:u,errors:e,showPassword:b,showConfirmPassword:s,handleRegister:async()=>{try{console.log("Register attempted with:",u.value);const n=await A.post("/register",u.value);console.log("Register successful:",n.data),m.value=!0,t.value=!1,setTimeout(()=>{document.location.href="/home"},2e3)}catch(n){if(n.response){const i=n.response.data.errors||{};if(Object.keys(i).length>0){console.error("Validation errors:",i);let l="";for(let h in i)i.hasOwnProperty(h)&&(l+=`${i[h][0]}  `);d.value=l,t.value=!0,setTimeout(()=>{t.value=!1},2e3)}else{const l=n.response.data.messages||[];l.length>0&&(console.error("Error messages:",l),d.value=l.join(", "),t.value=!0,setTimeout(()=>{t.value=!1},2e3))}}else console.error("An unexpected error occurred:",n),d.value="An unexpected error occurred. Please try again later.",t.value=!0,setTimeout(()=>{t.value=!1},2e3)}},showErrorModal:t,errorMessage:d,showSuccessModal:m,successMessage:w}}},D={class:"h-screen flex"},T={class:"w-full md:w-1/2 p-8 flex flex-col justify-center"},j={class:"max-w-md w-full mx-auto"},N={class:"space-y-4"},K={key:0,class:"text-red-500 text-sm mt-1"},U={key:0,class:"text-red-500 text-sm mt-1"},F={class:"relative"},O=["type"],G={key:0,class:"text-red-500 text-sm mt-1"},I={class:"relative"},L=["type"];function q(u,e,b,s,t,d){const m=y("ErrorModal"),w=y("SuccessModal");return g(),c(S,null,[r("div",D,[e[12]||(e[12]=r("div",{class:"w-1/2 bg-red-700 p-14 hidden md:block relative bg-gradient-to-l from-red-700 to-red-800",style:{"border-top-right-radius":"2rem","border-bottom-right-radius":"2rem"}},[r("h1",{class:"text-4xl font-bold text-white mb-4"}," Ayo Mulai Magang Sekarang! "),r("p",{class:"text-lg text-white mb-10"}," Daftarkan akun Anda untuk mendaftar magang dan mengakses semua fitur. "),r("img",{src:B,alt:"Illustration",class:"w-100"})],-1)),r("div",T,[e[11]||(e[11]=r("button",{onclick:"window.history.back()",class:"flex items-center text-red-700 hover:text-red-800 mb-4"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})]),v(" Kembali ke halaman Masuk ")],-1)),r("div",j,[e[8]||(e[8]=r("h2",{class:"text-3xl font-bold mb-4 text-red-700"},"Daftar",-1)),e[9]||(e[9]=r("p",{class:"text-gray-600 mb-6"}," Silakan isi formulir di bawah ini untuk membuat akun baru. ",-1)),r("form",{onSubmit:e[6]||(e[6]=P((...o)=>s.handleRegister&&s.handleRegister(...o),["prevent"]))},[r("div",N,[r("div",null,[f(r("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>s.form.name=o),placeholder:"Masukkan Nama Lengkap Anda",class:"w-full px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-red-700 focus:border-red-700"},null,512),[[k,s.form.name]]),s.errors.name?(g(),c("p",K,p(s.errors.name),1)):x("",!0)]),r("div",null,[f(r("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=o=>s.form.email=o),placeholder:"Masukkan Email Anda",class:"w-full px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-red-700 focus:border-red-700"},null,512),[[k,s.form.email]]),s.errors.email?(g(),c("p",U,p(s.errors.email),1)):x("",!0)]),r("div",F,[f(r("input",{type:s.showPassword?"text":"password","onUpdate:modelValue":e[2]||(e[2]=o=>s.form.password=o),placeholder:"Masukkan Kata Sandi Anda",class:"w-full px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-red-700 focus:border-red-700"},null,8,O),[[M,s.form.password]]),r("button",{type:"button",onClick:e[3]||(e[3]=o=>s.showPassword=!s.showPassword),class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400"}," üëÅ "),s.errors.password?(g(),c("p",G,p(s.errors.password),1)):x("",!0)]),r("div",I,[f(r("input",{type:s.showConfirmPassword?"text":"password","onUpdate:modelValue":e[4]||(e[4]=o=>s.form.password_confirmation=o),placeholder:"Konfirmasi Kata Sandi Anda",class:"w-full px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-red-700 focus:border-red-700"},null,8,L),[[M,s.form.password_confirmation]]),r("button",{type:"button",onClick:e[5]||(e[5]=o=>s.showConfirmPassword=!s.showConfirmPassword),class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400"}," üëÅ ")]),e[7]||(e[7]=r("button",{type:"submit",class:"w-full bg-red-700 text-white py-3 rounded-full hover:bg-red-800 transition-colors"}," Daftar ",-1))])],32),e[10]||(e[10]=r("div",{class:"mt-4 text-center"},[r("p",{class:"text-gray-600"},[v(" Sudah Punya Akun? "),r("a",{href:"/login",class:"text-red-700 hover:underline"},"Masuk Sekarang")])],-1))])])]),_(m,{show:s.showErrorModal,message:s.errorMessage,title:"Pendaftaran Akun Gagal"},null,8,["show","message"]),_(w,{show:s.showSuccessModal,title:"Pendaftaran Akun Berhasil"},null,8,["show"])],64)}const W=V(R,[["render",q]]);export{W as default};
