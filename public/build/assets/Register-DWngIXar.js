import{f as a,h as b,c as u,b as s,w as v,i as m,k as x,t as g,M as p,q as y,d as k,a as h,F as M,l as _,o as f}from"./app-EjIw6IA4.js";import{E as S}from"./ErrorModal-DAURxi9Q.js";import{S as A}from"./SuccessModal-DmRL_KCq.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C="/build/assets/undraw_post_eok2-Bcoasy7g.svg",E={components:{ErrorModal:S,SuccessModal:A},setup(){const l=a({name:"",email:"",password:"",password_confirmation:""}),r=a({}),w=a(!1),e=a(!1),t=a(!1),d=a(""),i=a(!1),c=a("Pendaftaran Akun Anda Berhasil");return{form:l,errors:r,showPassword:w,showConfirmPassword:e,handleRegister:async()=>{try{console.log("Register attempted with:",l.value);const n=await _.post("/register",l.value);console.log("Register successful:",n.data),i.value=!0,t.value=!1,setTimeout(()=>{document.location.href="/login"},2e3)}catch(n){n.response&&n.response.data.errors?(d.value=n.response.data.errors.email[0],t.value=!0,setTimeout(()=>{t.value=!1},2e3)):(console.error("An unexpected error occurred:",n),d.value=n.response.data.errors.email[0],t.value=!0,setTimeout(()=>{t.value=!1},2e3))}},showErrorModal:t,errorMessage:d,showSuccessModal:i,successMessage:c}}},V={class:"h-screen flex"},R={class:"w-full md:w-1/2 p-8 flex flex-col justify-center"},B={class:"max-w-md w-full mx-auto"},D={class:"space-y-4"},N={key:0,class:"text-red-500 text-sm mt-1"},T={key:0,class:"text-red-500 text-sm mt-1"},U={class:"relative"},K=["type"],F={key:0,class:"text-red-500 text-sm mt-1"},j={class:"relative"},q=["type"];function G(l,r,w,e,t,d){const i=b("ErrorModal"),c=b("SuccessModal");return f(),u(M,null,[s("div",V,[r[11]||(r[11]=s("div",{class:"w-1/2 bg-red-700 p-14 hidden md:block relative bg-gradient-to-l from-red-700 to-red-800",style:{"border-top-right-radius":"2rem","border-bottom-right-radius":"2rem"}},[s("h1",{class:"text-4xl font-bold text-white mb-4"}," Ayo Mulai Magang Sekarang! "),s("p",{class:"text-lg text-white mb-10"}," Daftarkan akun Anda untuk mendaftar magang dan mengakses semua fitur. "),s("img",{src:C,alt:"Illustration",class:"w-100"})],-1)),s("div",R,[s("div",B,[r[8]||(r[8]=s("h2",{class:"text-3xl font-bold mb-4 text-red-700"},"Daftar",-1)),r[9]||(r[9]=s("p",{class:"text-gray-600 mb-6"}," Silakan isi formulir di bawah ini untuk membuat akun baru. ",-1)),s("form",{onSubmit:r[6]||(r[6]=v((...o)=>e.handleRegister&&e.handleRegister(...o),["prevent"]))},[s("div",D,[s("div",null,[m(s("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=o=>e.form.name=o),placeholder:"Masukkan Nama Lengkap Anda",class:"w-full px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-red-700 focus:border-red-700"},null,512),[[x,e.form.name]]),e.errors.name?(f(),u("p",N,g(e.errors.name),1)):p("",!0)]),s("div",null,[m(s("input",{type:"email","onUpdate:modelValue":r[1]||(r[1]=o=>e.form.email=o),placeholder:"Masukkan Email Anda",class:"w-full px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-red-700 focus:border-red-700"},null,512),[[x,e.form.email]]),e.errors.email?(f(),u("p",T,g(e.errors.email),1)):p("",!0)]),s("div",U,[m(s("input",{type:e.showPassword?"text":"password","onUpdate:modelValue":r[2]||(r[2]=o=>e.form.password=o),placeholder:"Masukkan Kata Sandi Anda",class:"w-full px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-red-700 focus:border-red-700"},null,8,K),[[y,e.form.password]]),s("button",{type:"button",onClick:r[3]||(r[3]=o=>e.showPassword=!e.showPassword),class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400"}," üëÅ "),e.errors.password?(f(),u("p",F,g(e.errors.password),1)):p("",!0)]),s("div",j,[m(s("input",{type:e.showConfirmPassword?"text":"password","onUpdate:modelValue":r[4]||(r[4]=o=>e.form.password_confirmation=o),placeholder:"Konfirmasi Kata Sandi Anda",class:"w-full px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-red-700 focus:border-red-700"},null,8,q),[[y,e.form.password_confirmation]]),s("button",{type:"button",onClick:r[5]||(r[5]=o=>e.showConfirmPassword=!e.showConfirmPassword),class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400"}," üëÅ ")]),r[7]||(r[7]=s("button",{type:"submit",class:"w-full bg-red-700 text-white py-3 rounded-full hover:bg-red-800 transition-colors"}," Daftar ",-1))])],32),r[10]||(r[10]=s("div",{class:"mt-4 text-center"},[s("p",{class:"text-gray-600"},[k(" Sudah Punya Akun? "),s("a",{href:"/login",class:"text-red-700 hover:underline"},"Masuk Sekarang")])],-1))])])]),h(i,{show:e.showErrorModal,message:e.errorMessage,title:"Pendaftaran Akun Gagal"},null,8,["show","message"]),h(c,{show:e.showSuccessModal,title:"Pendaftaran Akun Berhasil"},null,8,["show"])],64)}const J=P(E,[["render",G]]);export{J as default};
